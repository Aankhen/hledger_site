<!-- hledger essentials - the TL;DR intro.   -*- fill-column:78; -*-
  -->
<!-- <html> -->
<!-- <meta> -->
<!-- <title>hledger essentials</title> -->
<!-- </meta> -->
<!-- <body> -->
<style>
pre {
    font-family:monaco;
    font-size:small;
}
h1 { margin:0; }
h2 { margin:0; font-size:1em; }
</style>
<pre>
<h1>hledger essentials</h1
>Welcome! This is the quick intro to hledger. This doc aims to distill just
the most frequently needed, practical info to help you start getting value
from hledger as efficiently as possible. When you want more detail or a
gentler introduction, just follow the links to the <a href="https://hledger.org">full website</a>
(and especially to the manuals, which describe everything hledger does:
<a    href="https://hledger.org/hledger.html">hledger</a
>, <a href="https://hledger.org/hledger-ui.html">hledger-ui</a
>, <a href="https://hledger.org/hledger-web.html">hledger-web</a
>, <a href="https://hledger.org/journal.html">journal</a
>, <a href="https://hledger.org/csv.html">csv</a
>, <a href="https://hledger.org/timeclock.html">timeclock</a
>, <a href="https://hledger.org/timedot.html">timedot</a>).

<a href="#about">What is it ?</a> | <a href="#install">Install</a> | <a href="#transactions">Transactions</a> | <a href="#reports">Reports</a> | <a href="#files">Files</a> | <a href="#csv">Import</a>

<a name="about"></a><h2>What is it ?</h2
>hledger: free GPLv3+ accounting software for linux, mac, windows, web, etc. 

- reads a flexible, future-proof, version-controllable, expressive plain text format
- or any CSV file downloaded from financial institutions
- produces powerful, precise financial reports as text/HTML/CSV/JSON:
  balance sheet, income statement, cashflow, budget, roi, transaction register, time, ...
- use via CLI, TUI, WUI, HTTP API or Haskell library
- easy to script and extend
- user-friendly, well documented, robust
- scales smoothly from simple to complex accounting, and makes it fun.

<a name="install"></a><h2>Install</h2
>Fastest: <a href="https://hledger.org/download.html">download binaries</a>, eg one of:

 apt install hledger hledger-ui hledger-web
 brew install hledger
 curl -LO https://github.com/simonmichael/hledger/releases/download/1.18.1/hledger-ubuntu.zip; unzip hledger-ubuntu.zip  # also macos, windows, <a href="https://github.com/simonmichael/hledger/releases/tag/1.18.1">more...</a>)
 dnf install hledger
 docker pull dastapov/hledger
 make -C /usr/ports/openbsd-wip/productivity/hledger install
 nix-env -f https://github.com/NixOS/nixpkgs/archive/2f9a9064.tar.gz -iA hledger hledger-web hledger-ui 
 pacman -S hledger hledger-ui hledger-web
 sudo layman -a haskell && sudo emerge hledger hledger-ui hledger-web
 xbps-install -S hledger hledger-ui hledger-web

Freshest: <a href="https://hledger.org/download.html#building-from-source">build from source</a>:
 
 1. apt install libtinfo-dev <a href="https://hledger.org/download.html#ensure-c-libraries-are-installed">or equivalent</a>
 2. <a href="https://hledger.org/download.html#ensure-your-system-locale-supports-utf-8">check UTF-8 locale</a>
 3. then one of:
  curl -sO https://raw.githubusercontent.com/simonmichael/hledger/master/hledger-install/hledger-install.sh; less hledger-install.sh; bash hledger-install.sh 
  <a href="https://haskellstack.org">stack</a> update; stack install --resolver=lts hledger-lib-1.18.1 hledger-1.18.1 hledger-ui-1.18.1 hledger-web-1.18.1 --silent
  <a href="https://www.haskell.org/cabal/#install-upgrade">cabal</a> update; cabal install hledger-1.18.1 hledger-web-1.18.1 hledger-ui-1.18.1
  (super fresh:) git clone https://github.com/simonmichael/hledger; cd hledger; stack install

<a name="transactions"></a><h2>Enter some transactions</h2
>Run the add command for assisted data entry (<a href="https://hledger.org/add.html">tutorial</a>):

 $ hledger add
 ...
 Date [2020-07-19]: ...

Or run hledger-web, and when the web browser opens, press a to add (<a href="https://hledger.org/web.html">tutorial</a>):

 $ hledger-web
 ...
 Opening web browser...

Or using a <a href="https://hledger.org/editors.html">text editor</a>, record transactions in ~/.hledger.journal or $LEDGER_FILE
like so:

 ; Optional account declarations, good for non-english names and display order:
 account assets       ; type:A
 account assets:cash  ; type:C
 account liabilities  ; type:L
 account equity       ; type:E
 account revenues     ; type:R
 account expenses     ; type:X

 ; A transaction. Usually the first one is to set opening balances:
 2020-01-01 opening balances on january 1st
     assets:checking         $1000  ; a posting, increasing assets:checking's balance by $1000
     assets:cash              $100
     liabilities                $0
     equity                 $-1100  ; each transaction must sum to zero

 2020-03-05 client payment
     assets:checking         $2000
     revenues:consulting    $-2000  ; revenues/liabilities/equity normally appear negative

 2020-03-20 Sprouts
     expenses:food:groceries  $100
     assets:cash               $40
     assets:checking                ; a missing amount will be inferred ($-140 here)

<a name="reports"></a><h2>Run some reports</h2
>
 $ hledger accounts   # account names declared and used, as a list
 assets
 assets:cash
 assets:checking
 liabilities
 equity
 revenues
 revenues:consulting
 expenses
 expenses:food:groceries

 $ hledger accounts --tree   # accounts are actually a hierarchy
 assets
   cash
   checking
 equity
 expenses
   food
     groceries
 liabilities
 revenues
   consulting

 $ hledger balancesheet    # what do I own and owe ?
 Balance Sheet 2020-03-20

                  || 2020-03-20 
 =================++============
  Assets          ||            
 -----------------++------------
  assets:cash     ||       $140 
  assets:checking ||      $2860 
 -----------------++------------
                  ||      $3000 
 =================++============
  Liabilities     ||            
 -----------------++------------
 -----------------++------------
                  ||            
 =================++============
  Net:            ||      $3000 

 $ hledger aregister checking   # or hledger register checking
 Transactions in assets:checking and subaccounts:
 2020-01-01 opening balances on january..  as:cash, equity                        $1000         $1000
 2020-03-05 client payment                 re:consulting                          $2000         $3000
 2020-03-20 Sprouts                        ex:fo:groceries, as:cash               $-140         $2860

 $ hledger incomestatement --monthly --depth 2    # where is it coming from and going to ?
 Income Statement 2020-01-01..2020-03-20

                      || Jan  Feb    Mar 
 =====================++=================
  Revenues            ||                 
 ---------------------++-----------------
  revenues:consulting ||   0    0  $2000 
 ---------------------++-----------------
                      ||   0    0  $2000 
 =====================++=================
  Expenses            ||                 
 ---------------------++-----------------
  expenses:food       ||   0    0   $100 
 ---------------------++-----------------
                      ||   0    0   $100 
 =====================++=================
  Net:                ||   0    0  $1900 

 $ hledger-ui
 ...

 $ hledger
 -------------------------------------------------------------------------------
 hledger 1.18.99
 Usage: hledger COMMAND [OPTIONS] [-- ADDONCMDOPTIONS]
 Commands (+ addons found in $PATH):
 ...

 $ hledger help
 Please choose a manual by typing "hledger help MANUAL" (any substring is ok).
 A viewer (info, man, a pager, or stdout) will be auto-selected,
 or type "hledger help -h" to see options. Manuals available:

  hledger hledger-ui hledger-web journal csv timeclock timedot

<a name="files"></a><h2>File management</h2
>Many folks use a dedicated directory, and a journal file for each year:

 $ mkdir ~/finance
 $ mv ~/.hledger.journal ~/finance/2020.journal   # move old file here if you had one

To make hledger use this file without needing the -f option, set LEDGER_FILE.
Eg if you use bash:

 $ echo "export LEDGER_FILE=~/finance/2020.journal" >> ~/.bashrc; source ~/.bashrc

Or, you can keep a ~/.hledger.journal file that points to the main file:

 include ~/finance/2020.journal

Version control is optional, and useful. Eg with git:

 $ cd ~/finance
 $ git init
 $ git add 2020.journal
 $ git commit -am 'initial commit'

Don't forget to also keep <i>backups</i>! <!-- ' -->

<a name="csv"></a><h2>Import CSV</h2
>Download one or more CSV files containing transaction info, then create a 
<a href="https://hledger.org/convert-csv-files.html">csv rules file</a> for each.
Eg if SomeBank.csv looks like:

 "Date","Note","Amount"
 "2020/3/22","DEPOSIT","50.00"
 "2020/3/23","ATM WITHDRAWAL","-10.00"

Create SomeBank.csv.rules containing rules like:

 skip 1
 fields date, description, amount
 currency $
 account1 assets:checking
 account2 expenses:misc
 if DEPOSIT
  account2 revenues:misc
 if ATM WITHDRAWAL
  account2 assets:cash

Check the csv conversion looks ok:

 $ hledger -f SomeBank.csv print
 2020-03-22 DEPOSIT
     assets:checking          $50.00
     revenues:misc           $-50.00

 2020-03-23 ATM WITHDRAWAL
     assets:checking         $-10.00
     assets:cash              $10.00

You can run reports directly from the csv, but I like to import it into the
main journal, keeping things in one place. The import command ignores csv
records it has seen before, saving the latest dates in .latest.SomeBank.csv.
This works for most csv files - you can try a dry run first:

 $ hledger import *.csv --dry-run
 ; would import 2 new transactions from SomeBank.csv:

 2020-03-22 DEPOSIT
     assets:checking          $50.00
     revenues:misc           $-50.00

 2020-03-23 ATM WITHDRAWAL
     assets:checking         $-10.00
     assets:cash              $10.00

 $ hledger import *.csv 
 imported 2 new transactions from SomeBank.csv
 $ hledger import *.csv
 no new transactions found in SomeBank.csv

Now to commit the new rules file and changed journal file:

 $ git add SomeBank.csv.rules
 $ git commit -m 'SomeBank csv rules' SomeBank.csv.rules
 $ git commit -m 'txns' 2020.journal

In the above workflow, the journal file is permanent and downloaded csv files
are temporary. Some folks (<a href="https://github.com/adept/full-fledged-hledger">Full-fledged hledger</a>, <a href="https://github.com/apauley/hledger-flow">hledger-flow</a>) prefer to commit 
all csv files and regenerate the whole journal file whenever needed.

<h2></h2>

<h2></h2>

<h2></h2>

</pre>
<!-- </body> -->
<!-- </html> -->
